define(["avalon"],function(e){function t(e,t,n){var r=t,i,s;for(var o=0,u=e.length;o<u;o++){var a=e[o];s=r.$model||r;if(typeof s[a]=="undefined")return;i=r,r=r[a]}return n>1?i[a]:i}return e.getModel=function(e,n){if(!e)return null;var r=e.split("."),i=r.length,s=r[i-1];r.length!=1&&r.pop();for(var o=0,u=n.length;o<u;o++){var a=n[o],f=t(r,a,i);if(typeof f!="undefined"&&(f.hasOwnProperty(s)||Object.prototype.hasOwnProperty.call(f,s)))return[s,f,a]}return null},e});